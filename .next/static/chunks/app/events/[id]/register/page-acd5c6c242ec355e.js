(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2536],{411:(e,s,t)=>{"use strict";t.d(s,{EventRegistrationForm:()=>o});var r=t(5155),a=t(2115),n=t(6874),l=t.n(n),i=t(2814);function o(e){var s;let{eventId:t}=e,[n,o]=(0,a.useState)(null),[c,d]=(0,a.useState)(!0),[m,x]=(0,a.useState)(!1),[h,u]=(0,a.useState)(null),[g,p]=(0,a.useState)(!1),[f,y]=(0,a.useState)({firstName:"",lastName:"",email:"",phone:"",specialRequests:""});(0,a.useEffect)(()=>{async function e(){try{let e=await fetch("/api/events/".concat(t));if(!e.ok)throw Error("Failed to fetch event");let s=await e.json();o(s.event)}catch(e){u("Failed to load event details")}finally{d(!1)}}t&&e()},[t]);let v=e=>{let{name:s,value:t}=e.target;y(e=>({...e,[s]:t}))},b=async e=>{e.preventDefault(),x(!0),u(null);try{let e=await fetch("/api/events/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({eventId:t,...f})});if(!e.ok){let s=await e.json();throw Error(s.message||"Registration failed")}p(!0)}catch(e){u(e instanceof Error?e.message:"Registration failed")}finally{x(!1)}};return c?(0,r.jsx)("div",{children:"Loading..."}):h&&!n?(0,r.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Error"}),(0,r.jsx)("p",{className:"text-gray-600 mb-8",children:h}),(0,r.jsx)(l(),{href:"/events",className:"bg-black text-white px-6 py-3 rounded-lg hover:bg-gray-800 transition-colors",children:"Back to Events"})]})}):n?g?(0,r.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:(0,r.jsxs)("div",{className:"text-center bg-white rounded-3xl shadow-sm p-12",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,r.jsx)("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Registration Successful!"}),(0,r.jsxs)("p",{className:"text-lg text-gray-600 mb-8",children:["Thank you for registering for ",(0,r.jsx)("strong",{children:n.name}),". We'll send you a confirmation email shortly."]}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,r.jsx)(l(),{href:"/events",className:"bg-black text-white px-6 py-3 rounded-lg hover:bg-gray-800 transition-colors",children:"Browse More Events"}),(0,r.jsx)(l(),{href:"/",className:"border border-gray-300 text-gray-700 px-6 py-3 rounded-lg hover:bg-gray-50 transition-colors",children:"Back to Home"})]})]})}):(0,r.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[(0,r.jsxs)("div",{className:"mb-12",children:[(0,r.jsxs)(l(),{href:"/events",className:"text-sm text-gray-600 hover:text-gray-900 transition-colors inline-flex items-center gap-2 mb-6",children:[(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Events"]}),(0,r.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Register for Event"}),(0,r.jsx)("p",{className:"text-lg text-gray-600",children:"Secure your spot for this upcoming event. We look forward to seeing you there!"})]}),(0,r.jsx)("div",{className:"bg-white rounded-3xl shadow-sm p-8 mb-8",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,r.jsxs)("div",{className:"relative h-64 rounded-2xl overflow-hidden",children:[(null==(s=n.primary_image)?void 0:s.url)?(0,r.jsxs)("div",{className:"absolute inset-0",children:[(0,r.jsx)("img",{src:n.primary_image.url,alt:n.primary_image.alt_text||n.name,className:"w-full h-full object-cover"}),(0,r.jsx)("div",{className:"absolute inset-0 bg-black/20"})]}):(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br ".concat(n.gradient||"from-blue-600 to-indigo-700"),children:(0,r.jsx)("div",{className:"absolute inset-0 bg-black/20"})}),n.type&&(0,r.jsx)("div",{className:"absolute top-4 left-4",children:(0,r.jsx)("span",{className:"bg-white/20 backdrop-blur-sm text-white px-3 py-1 rounded-full text-sm font-medium",children:n.type})})]}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:n.name}),(0,r.jsx)("p",{className:"text-gray-600",children:n.description})]}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 text-gray-600",children:[(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,r.jsx)("span",{className:"font-medium",children:(e=>{try{return i.V0.displayDate(e)}catch(e){return"Invalid date"}})(n.event_date)})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3 text-gray-600",children:[(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,r.jsx)("span",{className:"font-medium",children:(e=>{try{return i.V0.timeOnly(e)}catch(e){return"Invalid time"}})(n.event_date)})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3 text-gray-600",children:[(0,r.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),(0,r.jsx)("span",{className:"font-medium",children:n.location})]}),n.capacity&&(0,r.jsxs)("div",{className:"flex items-center gap-3 text-gray-600",children:[(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),(0,r.jsxs)("span",{className:"font-medium",children:["Capacity: ",n.capacity]})]})]})]})]})}),(0,r.jsxs)("div",{className:"bg-white rounded-3xl shadow-sm p-8",children:[(0,r.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-8",children:"Registration Details"}),h&&(0,r.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,r.jsx)("div",{className:"ml-3",children:(0,r.jsx)("p",{className:"text-sm text-red-800",children:h})})]})}),(0,r.jsxs)("form",{onSubmit:b,className:"space-y-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name *"}),(0,r.jsx)("input",{type:"text",id:"firstName",name:"firstName",required:!0,value:f.firstName,onChange:v,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-black focus:border-transparent",placeholder:"Enter your first name"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name *"}),(0,r.jsx)("input",{type:"text",id:"lastName",name:"lastName",required:!0,value:f.lastName,onChange:v,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-black focus:border-transparent",placeholder:"Enter your last name"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),(0,r.jsx)("input",{type:"email",id:"email",name:"email",required:!0,value:f.email,onChange:v,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-black focus:border-transparent",placeholder:"Enter your email address"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),(0,r.jsx)("input",{type:"tel",id:"phone",name:"phone",value:f.phone,onChange:v,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-black focus:border-transparent",placeholder:"Enter your phone number"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"specialRequests",className:"block text-sm font-medium text-gray-700 mb-2",children:"Special Requests or Comments"}),(0,r.jsx)("textarea",{id:"specialRequests",name:"specialRequests",rows:4,value:f.specialRequests,onChange:v,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-black focus:border-transparent",placeholder:"Any special requests, dietary restrictions, or accessibility needs..."})]}),(0,r.jsx)("button",{type:"submit",disabled:m,className:"bg-black text-white px-8 py-4 font-semibold hover:bg-gray-800 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed inline-flex items-center gap-3",children:m?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Submitting..."]}):(0,r.jsxs)(r.Fragment,{children:["Register for Event",(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})})]})]})]}):(0,r.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Event Not Found"}),(0,r.jsx)("p",{className:"text-gray-600 mb-8",children:"The event you're looking for doesn't exist."}),(0,r.jsx)(l(),{href:"/events",className:"bg-black text-white px-6 py-3 rounded-lg hover:bg-gray-800 transition-colors",children:"Back to Events"})]})})}},981:(e,s,t)=>{Promise.resolve().then(t.bind(t,411))},2814:(e,s,t)=>{"use strict";t.d(s,{yx:()=>c,V0:()=>d});var r=t(67);let a=()=>{let e="https://ufjfafcfkalaasdhgcbi.supabase.co",s="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVmamZhZmNma2FsYWFzZGhnY2JpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc3MTQ3MTMsImV4cCI6MjA2MzI5MDcxM30.PzwQAeRUJDK8llZf0awLwgW6j-pAmZPOgz55USsOnyo";if(!e||!s)throw Error("Supabase environment variables not configured");return(0,r.createServerClient)(e,s,{cookies:{get:()=>null,set(){},remove(){}}})},n=null,l=0;async function i(){let e=Date.now();if(n&&e-l<3e5)return n;let s="America/New_York";try{var t;let r=a(),{data:i,error:o}=await r.from("tenant_settings").select("time_zone").limit(1);if(o)return console.info("Using default timezone - tenant settings not available:",o.message),n=s,l=e,s;let c=i&&i.length>0&&(null==(t=i[0])?void 0:t.time_zone)||s;return n=c,l=e,console.info("Using configured timezone: ".concat(c)),c}catch(t){return console.info("Using default timezone - tenant settings query failed:",t),n=s,l=e,s}}function o(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n||"America/New_York",r="string"==typeof e?new Date(e):e,a={timeZone:t,year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0,...s};return new Intl.DateTimeFormat("en-US",a).format(r)}async function c(){await i()}let d={displayDate:e=>o(e,{year:"numeric",month:"short",day:"numeric"}),displayDateTime:e=>o(e,{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}),eventDateTime:e=>o(e,{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}),timeOnly:e=>o(e,{hour:"numeric",minute:"2-digit",hour12:!0}),dateOnly:e=>o(e,{year:"numeric",month:"long",day:"numeric"})}}},e=>{var s=s=>e(e.s=s);e.O(0,[6874,67,8441,1684,7358],()=>s(981)),_N_E=e.O()}]);