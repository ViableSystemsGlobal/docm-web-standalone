(()=>{var e={};e.id=3651,e.ids=[3651],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11997:e=>{"use strict";e.exports=require("punycode")},27910:e=>{"use strict";e.exports=require("stream")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},34631:e=>{"use strict";e.exports=require("tls")},39727:()=>{},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},46480:(e,t,s)=>{"use strict";s.r(t),s.d(t,{patchFetch:()=>v,routeModule:()=>g,serverHooks:()=>h,workAsyncStorage:()=>l,workUnitAsyncStorage:()=>d});var r={};s.r(r),s.d(r,{GET:()=>u});var o=s(96559),n=s(48088),a=s(37719),i=s(32190),c=s(56621);let p={hero:{first_line_text:"Events",heading:"Connecting hearts through fellowship.",subheading:"Join us for meaningful gatherings, celebrations, and opportunities to grow in faith together. From worship services to community outreach, discover events that inspire and unite our church family.",background_image:null,cta_primary:"View Events",cta_secondary:"Get Involved"},upcoming_events:{section_title:"What's Coming Up",section_heading:"Upcoming Events",section_description:"Don't miss these opportunities to connect, grow, and serve together as a church family"}};async function u(e){try{let e;try{e=(0,c.z)()}catch(e){return console.log("\uD83D\uDD04 EVENTS PAGE SOURCE: DEFAULT (Supabase client creation failed)"),i.NextResponse.json({eventsPage:p,source:"default",message:"Using default events page content - Supabase client failed"})}console.log("\uD83D\uDD0D Attempting to fetch events page from database...");let{data:t,error:s}=await e.from("pages").select("*").eq("slug","events").single();if(s){if("PGRST116"===s.code)return console.log("\uD83D\uDD04 EVENTS PAGE SOURCE: DEFAULT (No events page found)"),i.NextResponse.json({eventsPage:p,source:"default",message:"Using default events page content - No events page found in CMS"});return console.error("\uD83D\uDD04 EVENTS PAGE SOURCE: DEFAULT (Database error):",s.message),i.NextResponse.json({eventsPage:p,source:"default",message:`Using default events page content - Database error: ${s.message}`})}if(!t)return console.log("\uD83D\uDD04 EVENTS PAGE SOURCE: DEFAULT (No events page found)"),i.NextResponse.json({eventsPage:p,source:"default",message:"Using default events page content - No page found"});let{data:r,error:o}=await e.from("page_sections").select("*").eq("page_id",t.id).order("order",{ascending:!0});if(console.log("\uD83D\uDCCA Events page database query result:",{page:t,sections:r,pageError:s,sectionsError:o,sectionsLength:r?r.length:0}),o)return console.error("\uD83D\uDD04 EVENTS PAGE SOURCE: DEFAULT (Sections error):",o.message),i.NextResponse.json({eventsPage:p,source:"default",message:`Using default events page content - Sections error: ${o.message}`});if(!r||0===r.length)return console.log("\uD83D\uDD04 EVENTS PAGE SOURCE: DEFAULT (No events page sections found)"),i.NextResponse.json({eventsPage:p,source:"default",message:"Using default events page content - No sections found"});let n=function(e){console.log("\uD83D\uDD0D Raw sections for events page:",e.map(e=>({type:e.type,props:e.props})));let t={hero:{...p.hero},upcoming_events:{...p.upcoming_events}};return e.forEach((e,s)=>{console.log(`ðŸ“ Processing section ${s} (${e.type}):`,e.props);try{switch(e.type){case"hero":e.props&&(t.hero={first_line_text:e.props.first_line_text||t.hero.first_line_text,heading:e.props.heading||t.hero.heading,subheading:e.props.subheading||t.hero.subheading,background_image:e.props.backgroundImage||t.hero.background_image,cta_primary:e.props.ctaButtons?.[0]?.text||t.hero.cta_primary,cta_secondary:e.props.ctaButtons?.[1]?.text||t.hero.cta_secondary,cta_primary_link:e.props.ctaButtons?.[0]?.link||"#upcoming-events",cta_secondary_link:e.props.ctaButtons?.[1]?.link||"/contact"});break;case"upcoming_events":case"event_list":e.props&&(t.upcoming_events={section_title:e.props.first_line||e.props.subtitle||t.upcoming_events.section_title,section_heading:e.props.main_header||e.props.title||t.upcoming_events.section_heading,section_description:e.props.subheader||e.props.description||t.upcoming_events.section_description,show_filters:e.props.showFilters??!0,events_per_page:e.props.eventsPerPage||10});break;default:console.log(`â„¹ï¸ Unhandled section type: ${e.type}`)}}catch(t){console.error(`âŒ Error processing section ${e.type}:`,t)}}),console.log("âœ… Final events page content:",t),t}(r);return console.log("âœ… EVENTS PAGE SOURCE: DATABASE (Successfully loaded from CMS)"),i.NextResponse.json({eventsPage:n,source:"database",message:`Loaded events page with ${r.length} sections from database`})}catch(e){return console.error("\uD83D\uDD04 EVENTS PAGE SOURCE: DEFAULT (Unexpected error):",e),i.NextResponse.json({eventsPage:p,source:"default",message:"Using default events page content - Unexpected error"})}}let g=new o.AppRouteRouteModule({definition:{kind:n.RouteKind.APP_ROUTE,page:"/api/events-page/route",pathname:"/api/events-page",filename:"route",bundlePath:"app/api/events-page/route"},resolvedPagePath:"/Users/nanasasu/docm-web-standalone/src/app/api/events-page/route.ts",nextConfigOutput:"",userland:r}),{workAsyncStorage:l,workUnitAsyncStorage:d,serverHooks:h}=g;function v(){return(0,a.patchFetch)({workAsyncStorage:l,workUnitAsyncStorage:d})}},47990:()=>{},51906:e=>{function t(e){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=51906,e.exports=t},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},56621:(e,t,s)=>{"use strict";s.d(t,{z:()=>o});var r=s(34386);let o=()=>{let e="https://ufjfafcfkalaasdhgcbi.supabase.co",t="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVmamZhZmNma2FsYWFzZGhnY2JpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc3MTQ3MTMsImV4cCI6MjA2MzI5MDcxM30.PzwQAeRUJDK8llZf0awLwgW6j-pAmZPOgz55USsOnyo";if(!e||!t)throw Error("Supabase environment variables not configured");return(0,r.createServerClient)(e,t,{cookies:{get:()=>null,set(){},remove(){}}})}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},74075:e=>{"use strict";e.exports=require("zlib")},78335:()=>{},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")},96487:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[4447,9398,4386,580],()=>s(46480));module.exports=r})();