(()=>{var e={};e.id=3662,e.ids=[3662],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11997:e=>{"use strict";e.exports=require("punycode")},27910:e=>{"use strict";e.exports=require("stream")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},34631:e=>{"use strict";e.exports=require("tls")},39727:()=>{},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},47990:()=>{},51906:e=>{function t(e){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=51906,e.exports=t},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},56621:(e,t,s)=>{"use strict";s.d(t,{z:()=>o});var r=s(34386);let o=()=>{let e="https://ufjfafcfkalaasdhgcbi.supabase.co",t="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVmamZhZmNma2FsYWFzZGhnY2JpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc3MTQ3MTMsImV4cCI6MjA2MzI5MDcxM30.PzwQAeRUJDK8llZf0awLwgW6j-pAmZPOgz55USsOnyo";if(!e||!t)throw Error("Supabase environment variables not configured");return(0,r.createServerClient)(e,t,{cookies:{get:()=>null,set(){},remove(){}}})}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},74075:e=>{"use strict";e.exports=require("zlib")},78335:()=>{},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},87664:(e,t,s)=>{"use strict";s.r(t),s.d(t,{patchFetch:()=>g,routeModule:()=>p,serverHooks:()=>m,workAsyncStorage:()=>d,workUnitAsyncStorage:()=>h});var r={};s.r(r),s.d(r,{GET:()=>c});var o=s(96559),i=s(48088),a=s(37719),n=s(32190),u=s(56621);let l=[{id:"default-1",title:"Finding Your Purpose in God's Plan",slug:"finding-purpose-gods-plan",description:"Discover how God has a unique plan and purpose for your life, and learn practical steps to align your goals with His will.",speaker:"Pastor Michael Johnson",series:"Life Purpose",scripture_reference:"Jeremiah 29:11",sermon_date:"2024-01-21",duration:45,video_type:"youtube",youtube_url:"https://youtube.com/watch?v=dQw4w9WgXcQ",youtube_id:"dQw4w9WgXcQ",thumbnail_image:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=800&h=600&fit=crop",tags:["purpose","calling","faith"],status:"published",view_count:245},{id:"default-2",title:"Walking in Faith",slug:"walking-in-faith",description:"Building unshakeable faith in uncertain times through trust in God's promises.",speaker:"Pastor Sarah Johnson",series:"Faith Foundations",scripture_reference:"Hebrews 11:1",sermon_date:"2024-01-14",duration:38,video_type:"youtube",youtube_url:"https://youtube.com/watch?v=dQw4w9WgXcQ",youtube_id:"dQw4w9WgXcQ",thumbnail_image:"https://images.unsplash.com/photo-1544027993-37dbfe43562a?w=800&h=600&fit=crop",tags:["faith","trust","hope"],status:"published",view_count:189},{id:"default-3",title:"Love in Action",slug:"love-in-action",description:"Demonstrating Christ's love through practical service and compassion.",speaker:"Pastor Michael Chen",series:"Living Love",scripture_reference:"1 John 3:18",sermon_date:"2024-01-07",duration:42,video_type:"youtube",youtube_url:"https://youtube.com/watch?v=dQw4w9WgXcQ",youtube_id:"dQw4w9WgXcQ",thumbnail_image:"https://images.unsplash.com/photo-1469571486292-0ba58a3f068b?w=800&h=600&fit=crop",tags:["love","service","compassion"],status:"published",view_count:156},{id:"default-4",title:"The Power of Prayer",slug:"power-of-prayer",description:"Learn how to develop a powerful prayer life that transforms both you and your circumstances.",speaker:"Pastor Sarah Williams",series:"Prayer Life",scripture_reference:"Matthew 6:9-13",sermon_date:"2023-12-31",duration:35,video_type:"youtube",youtube_url:"https://youtube.com/watch?v=dQw4w9WgXcQ",youtube_id:"dQw4w9WgXcQ",thumbnail_image:"https://images.unsplash.com/photo-1438032005730-c779502df39b?w=800&h=600&fit=crop",tags:["prayer","spiritual discipline","communion"],status:"published",view_count:203},{id:"default-5",title:"God's Grace in Trials",slug:"gods-grace-trials",description:"Finding hope and strength in God's sufficient grace during life's most difficult moments.",speaker:"Pastor Michael Johnson",series:"Grace & Truth",scripture_reference:"2 Corinthians 12:9",sermon_date:"2023-12-24",duration:40,video_type:"youtube",youtube_url:"https://youtube.com/watch?v=dQw4w9WgXcQ",youtube_id:"dQw4w9WgXcQ",thumbnail_image:"https://images.unsplash.com/photo-1500479694472-551d1fb19407?w=800&h=600&fit=crop",tags:["grace","trials","perseverance"],status:"published",view_count:134},{id:"default-6",title:"Building Community",slug:"building-community",description:"Creating authentic relationships and fostering genuine fellowship within the church family.",speaker:"Pastor David Chen",series:"Community Life",scripture_reference:"Acts 2:42-47",sermon_date:"2023-12-17",duration:33,video_type:"youtube",youtube_url:"https://youtube.com/watch?v=dQw4w9WgXcQ",youtube_id:"dQw4w9WgXcQ",thumbnail_image:"https://images.unsplash.com/photo-1517486808906-6ca8b3f04846?w=800&h=600&fit=crop",tags:["community","fellowship","relationships"],status:"published",view_count:167}];async function c(e){try{let t,{searchParams:s}=new URL(e.url),r=parseInt(s.get("page")||"1"),o=parseInt(s.get("limit")||"12"),i=s.get("search")||"",a=s.get("series")||"",c=s.get("speaker")||"";try{t=(0,u.z)()}catch(s){console.log("\uD83D\uDD04 SERMONS BROWSE SOURCE: DEFAULT (Supabase client creation failed)");let e=(r-1)*o,t=l.slice(e,e+o);return n.NextResponse.json({sermons:t,total:l.length,page:r,limit:o,allSermons:l,source:"default",message:"Using default sermons - Supabase client failed"})}console.log("\uD83D\uDD0D Attempting to fetch all sermons from database for browsing...");let{data:p,error:d}=await t.from("sermons").select("series, speaker").eq("status","published");d&&console.error("Error fetching all sermons for filters:",d);let h=t.from("sermons").select("*",{count:"exact"}).eq("status","published").order("sermon_date",{ascending:!1});i&&(h=h.or(`title.ilike.%${i}%,description.ilike.%${i}%,speaker.ilike.%${i}%,series.ilike.%${i}%`)),a&&(h=h.eq("series",a)),c&&(h=h.eq("speaker",c));let m=(r-1)*o;h=h.range(m,m+o-1);let{data:g,error:f,count:w}=await h;if(console.log("\uD83D\uDCCA Sermons browse database query result:",{sermons:g,error:f,count:w,sermonsLength:g?g.length:0,page:r,limit:o,searchQuery:i,seriesFilter:a,speakerFilter:c}),f){console.error("\uD83D\uDD04 SERMONS BROWSE SOURCE: DEFAULT (Database error):",f.message);let e=(r-1)*o,t=l.slice(e,e+o);return n.NextResponse.json({sermons:t,total:l.length,page:r,limit:o,allSermons:l,source:"default",message:`Using default sermons - Database error: ${f.message}`})}if(!g||0===g.length)return console.log("\uD83D\uDD04 No sermons found with current filters"),n.NextResponse.json({sermons:[],total:0,page:r,limit:o,allSermons:p||[],source:"database",message:"No sermons found with current filters"});return console.log("âœ… SERMONS BROWSE SOURCE: DATABASE (Successfully loaded from database)"),n.NextResponse.json({sermons:g,total:w||0,page:r,limit:o,allSermons:p||[],source:"database",message:`Loaded ${g.length} sermons from database (page ${r})`})}catch(i){console.error("\uD83D\uDD04 SERMONS BROWSE SOURCE: DEFAULT (Unexpected error):",i);let t=parseInt(new URL(e.url).searchParams.get("page")||"1"),s=parseInt(new URL(e.url).searchParams.get("limit")||"12"),r=(t-1)*s,o=l.slice(r,r+s);return n.NextResponse.json({sermons:o,total:l.length,page:t,limit:s,allSermons:l,source:"default",message:"Using default sermons - Unexpected error"})}}let p=new o.AppRouteRouteModule({definition:{kind:i.RouteKind.APP_ROUTE,page:"/api/sermons/browse/route",pathname:"/api/sermons/browse",filename:"route",bundlePath:"app/api/sermons/browse/route"},resolvedPagePath:"/Users/nanasasu/docm-web-standalone/src/app/api/sermons/browse/route.ts",nextConfigOutput:"",userland:r}),{workAsyncStorage:d,workUnitAsyncStorage:h,serverHooks:m}=p;function g(){return(0,a.patchFetch)({workAsyncStorage:d,workUnitAsyncStorage:h})}},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")},96487:()=>{}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[4447,9398,4386,580],()=>s(87664));module.exports=r})();